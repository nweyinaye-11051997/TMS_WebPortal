<h2 class="ml-4">
  <img src="../../../assets/images/assign.png" class="logo-img" />
  <span class="ms-2">Assign Task</span>
</h2>
<div class="content-block">
  <div class="dx-card responsive-paddings">
    <div id="form-container">
      <div class="container">
        <div class="title mb-5">Assign Task</div>
        <div class="task-card">
          <div class="card-body">
            <form [formGroup]="assigntaskForm">
              <div class="row mb-3">
                <div class="mb-3 col-6">
                  <label class="form-label"
                    >Task Name<span class="text-danger">*</span></label
                  >
                  <select
                    class="form-select"
                    formControlName="TaskID"
                    aria-label="TaskID"
                    required
                  >
                    <option value="" selected>Select</option>
                    <option *ngFor="let task of tasklist" [value]="task.id">
                      {{ task.taskName }}
                    </option>
                  </select>
                  <div class="invalid-feedback">Task Name is required</div>
                </div>
                <div class="mb-3 col-6">
                  <label class="form-label"
                    >Assign To<span class="text-danger">*</span></label
                  >
                  <select
                    class="form-select"
                    formControlName="MemberID"
                    required
                  >
                    <option value="" selected>Select</option>
                    <option
                      *ngFor="let member of memberlist"
                      [value]="member.value"
                    >
                      {{ member.name }}
                    </option>
                  </select>
                  <div class="invalid-feedback">Assign To is required</div>
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-6 mb-3">
                  <label class="form-label"
                    >Start Date<span class="text-danger">*</span></label
                  >
                  <input
                    type="date"
                    class="form-control"
                    formControlName="StartDate"
                    (change)="onDateChange()"
                    required
                  />

                  <div class="invalid-feedback">Start Date is required</div>
                </div>
                <div class="col-6 mb-3">
                  <label class="form-label"
                    >Due Date<span class="text-danger">*</span></label
                  >
                  <input
                    type="date"
                    class="form-control"
                    formControlName="DueDate"
                    (change)="onDateChange()"
                    required
                  />
                  <div class="invalid-feedback">DueDate is required</div>
                </div>
              </div>
              <div class="row mb-3">
                <div class="mb-3 col-md-6 d-flex flex-column">
                  <label class="form-label">Remark</label>
                  <textarea
                    class="form-control"
                    formControlName="Remark"
                    style="height: 150px"
                  ></textarea>
                </div>
                <div class="col-md-6">
                  <div class="mb-3">
                    <label class="form-label"
                      >Duration<span class="text-danger">*</span></label
                    >
                    <input
                      type="number"
                      class="form-control"
                      formControlName="Duration"
                      [(ngModel)]="assigntaskForm.value.Duration"
                      [disabled]="isDisabled"
                    />
                  </div>
                  <div class="mb-3">
                    <label class="form-label"
                      >Progress<span class="text-danger">*</span></label
                    >
                    <select
                      class="form-select"
                      formControlName="Progress"
                      required
                    >
                      <option value="" selected>Select</option>
                      <option
                        *ngFor="let progress of progress"
                        [value]="progress.value"
                      >
                        {{ progress.name }}
                      </option>
                    </select>
                    <div class="invalid-feedback">Progress is required</div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="d-flex justify-content-center mt-5">
        <dx-button
          text="Assign Task"
          class="btn btn-primary"
          (onClick)="onAssignTask()"
        ></dx-button>
        <dx-button text="Clear" class="btn btn-secondary ms-3"></dx-button>
      </div>
    </div>
  </div>
</div>
